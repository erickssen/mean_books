



<!-- book table -->
<table class="table table-striped table-hover ">
  <thead>
    <tr class="warning">
      <th> <div class="col-sm-4">Name</div>  </th>
      <th> <div class="col-sm-4">Author</div>  </th>
      <th> <div class="col-sm-4">Isbn</div> </th>
      <th> <div class="col-sm-4">Quantity</div> </th>
      <th> <div class="col-sm-4">Date</div></th>
      <th> <div class="col-sm-4">Category</div></th>
      <th> <div class="col-sm-4">Issue</div></th>
      <th> <div class="col-sm-4">Delete</div></th>
      <th> <div class="col-sm-4">Edit</div></th>
      <th> <div class="col-sm-4">Issue</div></th>
    </tr>
  </thead>

   <tbody>
      <tr *ngFor = "let book of books" class="info">
        <td><div class="col-sm-4" (click)="update(book)" >{{ book.book_name }}</div></td>
        <td><div class="col-sm-4" (click)="update(book)">{{ book.author }}</div></td>
        <td><div class="col-sm-4" (click)="update(book)">{{ book.isbn }}</div></td>
        <td><div class="col-sm-4" (click)="update(book)">{{ book.quantity }}</div>
        <input type="text" [(ngModel)] = "book.quantity" name="quantity" class="form-control" *ngIf="bookUpdate === book">
        <td><div class="col-sm-4" (click)="update(book)">{{ book.publish }}</div></td>
        <td><div class="col-sm-4" (click)="update(book)">{{ book.category }}</div></td>
        <td><div class="col-sm-4">{{ book.books_issued }}</div></td>
        <td>
            <div class="col-sm-4">
              <input type="button" (click)="deleteBook(book._id)" value="delete" class="btn btn-danger">
            </div>
        </td>
        <td>
            <div class="col-sm-4">
                <input type="button" (click)="updateBook(book._id, book)" name="update" value="update" class="btn btn-default">
            </div>
        </td>
        <td>
            <div class="col-sm-4">
                <input type="button" (click)="issueBook(book._id, book)"  value="issue" class="btn btn-default">
            </div>
        </td>
      </tr>
  </tbody>
</table>




<!-- transactions -->
<table class="table table-striped table-hover ">
  <thead>
    <tr class="warning">
      <th> <div class="col-sm-4">Name</div>  </th>
      <th> <div class="col-sm-4">BookId</div>  </th>
      <th> <div class="col-sm-4">Date</div> </th>
      <th> <div class="col-sm-4">State</div> </th>
      <th> <div class="col-sm-4">Return</div> </th>
    </tr>
  </thead>

   <tbody>
      <tr *ngFor = "let transaction of transactions" class="info">
        <td><div class="col-sm-4">{{ transaction.b_name }}</div></td>
        <td><div class="col-sm-4">{{ transaction.book_id }}</div></td>
        <td><div class="col-sm-4">{{ transaction.date }}</div></td>
        <td><div class="col-sm-4">{{ transaction.state }}</div></td>
        <td><input type="button" (click)="returnBook(transaction._id, transaction)" value="return" class="btn btn-danger"></td>
      </tr>
   </tbody>
</table>

<div class="col-sm-4">
  <input type="button" (click)="getTransactions()" value="transactions" class="btn btn-info">
</div>



<!-- add book -->
<div class="container">
  <h2 class="page-header"> Add Book </h2>
  <form (submit) = "addBook()">

      <div class="form-group">
        <label>Book Name</label>
        <input type="text" [(ngModel)] = "book_name" name="book_name" class="form-control">
      </div>

      <div class="form-group">
        <label>Author</label>
        <input type="text" [(ngModel)] = "author" name="book_name" class="form-control">
      </div>

      <div class="form-group">
        <label>Isbn</label>
        <input type="text" [(ngModel)] = "isbn" name="book_name" class="form-control">
      </div>

      <div class="form-group">
        <label>Quantity</label>
        <input type="text" [(ngModel)] = "quantity" name="quantity" class="form-control">
      </div>

      <div class="form-group">
        <label>Publish Date</label>
        <input type="text" [(ngModel)] = "publish_date" name="publish_date" class="form-control">
      </div>

      <div class="form-group">
        <label>Category</label>
        <input type="text" [(ngModel)] = "category" name="category" class="form-control">
      </div>

      <div class="form-group">
        <label>Books Issued</label>
        <input type="text" [(ngModel)] = "books_issued" name="books_issued" class="form-control">
      </div>

      <input type="submit" class="btn btn-success" value="Add">
  </form>
</div>
<hr>
